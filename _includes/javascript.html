<label for="sidebar-checkbox" class="sidebar-toggle"></label>
<script>
    (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
            var target = e.target;

            if(!checkbox.checked ||
                sidebar.contains(target) ||
                (target === checkbox || target === toggle)) return;

            checkbox.checked = false;
        }, false);
    })(document);

    {% if page.title == "Blog" %}
    /*全局搜索，回车进入谷歌搜索 */
    document.querySelector('.page-search-input').addEventListener('keyup',function(e){
        var archive = document.getElementsByClassName('archive-item-link');
        for (var i = 0; i < archive.length; i++){
            if( archive[i].title.toLowerCase().indexOf(this.value.toLowerCase()) > -1 ) {
                archive[i].closest('li').style.display = '';
            } else {
                archive[i].closest('li').style.display = 'none';
            }
        }
        if(e.keyCode == 13){
            window.open('https://www.google.com/#q=site:dengwenfeng.com+'+this.value);
        }
    })
    {% endif %}
</script>

<!-- mathjax -->
<script type="text/x-mathjax-config">
	var mathId = document.getElementById("post-content"); //选择公式识别范围
	MathJax.Hub.Config({
		showProcessingMessages: false, //关闭js加载过程信息
		messageStyle: "none", //不显示信息
		extensions: ["tex2jax.js"],
		jax: ["input/TeX", "output/HTML-CSS"],
		tex2jax: {
			inlineMath: [ ['$','$'], ["\\(","\\)"] ], //行内公式选择符
			displayMath: [ ['$$','$$'], ["\\[","\\]"] ], //段内公式选择符
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'] //避开某些标签
		},
		"HTML-CSS": {
			availableFonts: ["STIX","TeX"], //可选字体
			showMathMenu: false //关闭右击菜单显示
		}
	});
	MathJax.Hub.Queue(["Typeset",MathJax.Hub,mathId]);
</script>
<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>